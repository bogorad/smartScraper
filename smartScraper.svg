<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: SmartScraperFlow Pages: 1 -->
<svg width="1397pt" height="2657pt"
 viewBox="0.00 0.00 1397.00 2657.34" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2653.34)">
<title>SmartScraperFlow</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-2653.34 1393,-2653.34 1393,4 -4,4"/>
<!-- Start -->
<g id="node1" class="node">
<title>Start</title>
<ellipse fill="lightgreen" stroke="black" cx="980" cy="-2631.34" rx="32.49" ry="18"/>
<text text-anchor="middle" x="980" y="-2627.64" font-family="Helvetica,sans-Serif" font-size="14.00">Start</text>
</g>
<!-- InputURL -->
<g id="node5" class="node">
<title>InputURL</title>
<path fill="lightblue" stroke="black" d="M1089,-2576.34C1089,-2576.34 871,-2576.34 871,-2576.34 865,-2576.34 859,-2570.34 859,-2564.34 859,-2564.34 859,-2552.34 859,-2552.34 859,-2546.34 865,-2540.34 871,-2540.34 871,-2540.34 1089,-2540.34 1089,-2540.34 1095,-2540.34 1101,-2546.34 1101,-2552.34 1101,-2552.34 1101,-2564.34 1101,-2564.34 1101,-2570.34 1095,-2576.34 1089,-2576.34"/>
<text text-anchor="middle" x="980" y="-2554.64" font-family="Helvetica,sans-Serif" font-size="14.00">Input: URL, Proxy (opt), UA (opt)</text>
</g>
<!-- Start&#45;&gt;InputURL -->
<g id="edge1" class="edge">
<title>Start&#45;&gt;InputURL</title>
<path fill="none" stroke="black" d="M980,-2613.15C980,-2605.13 980,-2595.39 980,-2586.41"/>
<polygon fill="black" stroke="black" points="983.5,-2586.37 980,-2576.37 976.5,-2586.37 983.5,-2586.37"/>
</g>
<!-- EndSuccess -->
<g id="node2" class="node">
<title>EndSuccess</title>
<ellipse fill="lightgreen" stroke="black" cx="275" cy="-1218.69" rx="110.48" ry="18"/>
<text text-anchor="middle" x="275" y="-1214.99" font-family="Helvetica,sans-Serif" font-size="14.00">Return Data (Success)</text>
</g>
<!-- EndError -->
<g id="node3" class="node">
<title>EndError</title>
<ellipse fill="salmon" stroke="black" cx="441" cy="-227.82" rx="143.59" ry="26.74"/>
<text text-anchor="middle" x="441" y="-231.62" font-family="Helvetica,sans-Serif" font-size="14.00">Return Data (Failure)</text>
<text text-anchor="middle" x="441" y="-216.62" font-family="Helvetica,sans-Serif" font-size="14.00">(Operational Error for URL)</text>
</g>
<!-- SaveHtmlFailure -->
<g id="node32" class="node">
<title>SaveHtmlFailure</title>
<polygon fill="lightgrey" stroke="black" points="511.5,-163.95 364.5,-163.95 364.5,-125.95 517.5,-125.95 517.5,-157.95 511.5,-163.95"/>
<polyline fill="none" stroke="black" points="511.5,-163.95 511.5,-157.95 "/>
<polyline fill="none" stroke="black" points="517.5,-157.95 511.5,-157.95 "/>
<text text-anchor="middle" x="441" y="-148.75" font-family="Helvetica,sans-Serif" font-size="14.00">Save HTML (Failure)</text>
<text text-anchor="middle" x="441" y="-133.75" font-family="Helvetica,sans-Serif" font-size="14.00">(if DEBUG)</text>
</g>
<!-- EndError&#45;&gt;SaveHtmlFailure -->
<g id="edge43" class="edge">
<title>EndError&#45;&gt;SaveHtmlFailure</title>
<path fill="none" stroke="black" d="M441,-200.79C441,-192.26 441,-182.74 441,-174.05"/>
<polygon fill="black" stroke="black" points="444.5,-174 441,-164 437.5,-174 444.5,-174"/>
</g>
<!-- EndCriticalError -->
<g id="node4" class="node">
<title>EndCriticalError</title>
<ellipse fill="darkred" stroke="black" cx="441" cy="-37.48" rx="142.26" ry="37.45"/>
<text text-anchor="middle" x="441" y="-48.78" font-family="Helvetica,sans-Serif" font-size="14.00" fill="white">SCRIPT HALT</text>
<text text-anchor="middle" x="441" y="-33.78" font-family="Helvetica,sans-Serif" font-size="14.00" fill="white">(Critical Internal Error or</text>
<text text-anchor="middle" x="441" y="-18.78" font-family="Helvetica,sans-Serif" font-size="14.00" fill="white">Fail&#45;Fast Operational Error)</text>
</g>
<!-- CheckKnownSite -->
<g id="node6" class="node">
<title>CheckKnownSite</title>
<path fill="lightblue" stroke="black" d="M1052,-2503.34C1052,-2503.34 908,-2503.34 908,-2503.34 902,-2503.34 896,-2497.34 896,-2491.34 896,-2491.34 896,-2477.34 896,-2477.34 896,-2471.34 902,-2465.34 908,-2465.34 908,-2465.34 1052,-2465.34 1052,-2465.34 1058,-2465.34 1064,-2471.34 1064,-2477.34 1064,-2477.34 1064,-2491.34 1064,-2491.34 1064,-2497.34 1058,-2503.34 1052,-2503.34"/>
<text text-anchor="middle" x="980" y="-2488.14" font-family="Helvetica,sans-Serif" font-size="14.00">Known Site Check</text>
<text text-anchor="middle" x="980" y="-2473.14" font-family="Helvetica,sans-Serif" font-size="14.00">(KnownSitesManager)</text>
</g>
<!-- InputURL&#45;&gt;CheckKnownSite -->
<g id="edge2" class="edge">
<title>InputURL&#45;&gt;CheckKnownSite</title>
<path fill="none" stroke="black" d="M980,-2540.28C980,-2532.33 980,-2522.65 980,-2513.65"/>
<polygon fill="black" stroke="black" points="983.5,-2513.54 980,-2503.54 976.5,-2513.54 983.5,-2513.54"/>
</g>
<!-- AttemptKnownConfig -->
<g id="node7" class="node">
<title>AttemptKnownConfig</title>
<path fill="lightyellow" stroke="black" d="M702,-2298.84C702,-2298.84 1046,-2298.84 1046,-2298.84 1052,-2298.84 1058,-2304.84 1058,-2310.84 1058,-2310.84 1058,-2401.84 1058,-2401.84 1058,-2407.84 1052,-2413.84 1046,-2413.84 1046,-2413.84 702,-2413.84 702,-2413.84 696,-2413.84 690,-2407.84 690,-2401.84 690,-2401.84 690,-2310.84 690,-2310.84 690,-2304.84 696,-2298.84 702,-2298.84"/>
<text text-anchor="middle" x="874" y="-2398.64" font-family="Helvetica,sans-Serif" font-size="14.00">Attempt Known Config</text>
<polyline fill="none" stroke="black" points="690,-2390.84 1058,-2390.84 "/>
<text text-anchor="middle" x="874" y="-2375.64" font-family="Helvetica,sans-Serif" font-size="14.00">Fetch Page (Method: Stored)</text>
<polyline fill="none" stroke="black" points="690,-2367.84 1058,-2367.84 "/>
<text text-anchor="middle" x="874" y="-2352.64" font-family="Helvetica,sans-Serif" font-size="14.00">Got Non&#45;2xx HTTP Status? (Puppeteer)</text>
<polyline fill="none" stroke="black" points="690,-2344.84 1058,-2344.84 "/>
<text text-anchor="middle" x="874" y="-2329.64" font-family="Helvetica,sans-Serif" font-size="14.00">Check Page for CAPTCHA (if Non&#45;2xx or XPath Fail)</text>
<polyline fill="none" stroke="black" points="690,-2321.84 1058,-2321.84 "/>
<text text-anchor="middle" x="874" y="-2306.64" font-family="Helvetica,sans-Serif" font-size="14.00">Extract Content (Stored XPath)</text>
</g>
<!-- CheckKnownSite&#45;&gt;AttemptKnownConfig -->
<g id="edge3" class="edge">
<title>CheckKnownSite&#45;&gt;AttemptKnownConfig</title>
<path fill="none" stroke="black" d="M964.81,-2465.29C955.02,-2453.65 941.64,-2437.74 928.16,-2421.72"/>
<polygon fill="black" stroke="black" points="930.66,-2419.26 921.55,-2413.86 925.31,-2423.77 930.66,-2419.26"/>
<text text-anchor="middle" x="994.5" y="-2436.14" font-family="Helvetica,sans-Serif" font-size="14.00">Config Found</text>
</g>
<!-- StartDiscovery -->
<g id="node16" class="node">
<title>StartDiscovery</title>
<path fill="lightgoldenrodyellow" stroke="black" d="M917.11,-1536.94C917.11,-1536.94 907.03,-1545.98 907.03,-1545.98 902.57,-1549.99 892.13,-1554.59 886.16,-1555.18 886.16,-1555.18 796.94,-1563.99 796.94,-1563.99 790.97,-1564.58 779.03,-1564.58 773.06,-1563.99 773.06,-1563.99 683.84,-1555.18 683.84,-1555.18 677.87,-1554.59 667.43,-1549.99 662.97,-1545.98 662.97,-1545.98 652.89,-1536.94 652.89,-1536.94 648.43,-1532.93 649.77,-1527.43 655.58,-1525.93 655.58,-1525.93 710.61,-1511.79 710.61,-1511.79 716.42,-1510.3 728.23,-1508.8 734.23,-1508.8 734.23,-1508.8 835.77,-1508.8 835.77,-1508.8 841.77,-1508.8 853.58,-1510.3 859.39,-1511.79 859.39,-1511.79 914.42,-1525.93 914.42,-1525.93 920.23,-1527.43 921.57,-1532.93 917.11,-1536.94"/>
<text text-anchor="middle" x="785" y="-1539.32" font-family="Helvetica,sans-Serif" font-size="14.00">Start Discovery Process</text>
<text text-anchor="middle" x="785" y="-1524.32" font-family="Helvetica,sans-Serif" font-size="14.00">(_discoverAndScrape)</text>
</g>
<!-- CheckKnownSite&#45;&gt;StartDiscovery -->
<g id="edge4" class="edge">
<title>CheckKnownSite&#45;&gt;StartDiscovery</title>
<path fill="none" stroke="black" d="M1019.84,-2465.22C1028.67,-2460.16 1037.6,-2454.16 1045,-2447.34 1077.33,-2417.56 1086,-2401.3 1086,-2357.34 1086,-2357.34 1086,-2357.34 1086,-1641.84 1086,-1601.77 989.74,-1573.33 906.1,-1556.19"/>
<polygon fill="black" stroke="black" points="906.72,-1552.75 896.23,-1554.21 905.34,-1559.61 906.72,-1552.75"/>
<text text-anchor="middle" x="1175" y="-1942.14" font-family="Helvetica,sans-Serif" font-size="14.00">No Config / Unknown Site</text>
</g>
<!-- IsPageContentValid -->
<g id="node8" class="node">
<title>IsPageContentValid</title>
<path fill="lightgoldenrodyellow" stroke="black" d="M731.17,-2259.31C731.17,-2259.31 533.83,-2225.37 533.83,-2225.37 527.91,-2224.36 527.91,-2222.32 533.83,-2221.31 533.83,-2221.31 731.17,-2187.37 731.17,-2187.37 737.09,-2186.36 748.91,-2186.36 754.83,-2187.37 754.83,-2187.37 952.17,-2221.31 952.17,-2221.31 958.09,-2222.32 958.09,-2224.36 952.17,-2225.37 952.17,-2225.37 754.83,-2259.31 754.83,-2259.31 748.91,-2260.32 737.09,-2260.32 731.17,-2259.31"/>
<text text-anchor="middle" x="743" y="-2227.14" font-family="Helvetica,sans-Serif" font-size="14.00">Page Content OK?</text>
<text text-anchor="middle" x="743" y="-2212.14" font-family="Helvetica,sans-Serif" font-size="14.00">(2xx Status, Content Present)</text>
</g>
<!-- AttemptKnownConfig&#45;&gt;IsPageContentValid -->
<g id="edge5" class="edge">
<title>AttemptKnownConfig&#45;&gt;IsPageContentValid</title>
<path fill="none" stroke="black" d="M817.3,-2298.64C805.39,-2286.73 793.08,-2274.42 782,-2263.34"/>
<polygon fill="black" stroke="black" points="784.45,-2260.84 774.9,-2256.24 779.5,-2265.79 784.45,-2260.84"/>
</g>
<!-- CaptchaOnKnownConfigPage -->
<g id="node9" class="node">
<title>CaptchaOnKnownConfigPage</title>
<path fill="lightgoldenrodyellow" stroke="black" d="M679.28,-2044.77C679.28,-2044.77 529.72,-2011.91 529.72,-2011.91 523.86,-2010.63 523.86,-2008.05 529.72,-2006.77 529.72,-2006.77 679.28,-1973.91 679.28,-1973.91 685.14,-1972.63 696.86,-1972.63 702.72,-1973.91 702.72,-1973.91 852.28,-2006.77 852.28,-2006.77 858.14,-2008.05 858.14,-2010.63 852.28,-2011.91 852.28,-2011.91 702.72,-2044.77 702.72,-2044.77 696.86,-2046.05 685.14,-2046.05 679.28,-2044.77"/>
<text text-anchor="middle" x="691" y="-2013.14" font-family="Helvetica,sans-Serif" font-size="14.00">CAPTCHA on Page?</text>
<text text-anchor="middle" x="691" y="-1998.14" font-family="Helvetica,sans-Serif" font-size="14.00">(After Fetch/XPath Fail)</text>
</g>
<!-- IsPageContentValid&#45;&gt;CaptchaOnKnownConfigPage -->
<g id="edge7" class="edge">
<title>IsPageContentValid&#45;&gt;CaptchaOnKnownConfigPage</title>
<path fill="none" stroke="black" d="M744.94,-2185.67C745.45,-2153.11 743.23,-2104.72 729,-2065.34 727.22,-2060.42 724.89,-2055.52 722.26,-2050.8"/>
<polygon fill="black" stroke="black" points="725.07,-2048.69 716.88,-2041.96 719.09,-2052.33 725.07,-2048.69"/>
<text text-anchor="middle" x="840" y="-2112.64" font-family="Helvetica,sans-Serif" font-size="14.00">No (Non&#45;2xx or No Content)</text>
</g>
<!-- KnownConfigExtractionOK -->
<g id="node13" class="node">
<title>KnownConfigExtractionOK</title>
<path fill="lightgoldenrodyellow" stroke="black" d="M532.12,-2132.68C532.12,-2132.68 427.02,-2118 427.02,-2118 421.08,-2117.17 421.08,-2115.51 427.02,-2114.68 427.02,-2114.68 532.12,-2100 532.12,-2100 538.06,-2099.17 549.94,-2099.17 555.88,-2100 555.88,-2100 660.98,-2114.68 660.98,-2114.68 666.92,-2115.51 666.92,-2117.17 660.98,-2118 660.98,-2118 555.88,-2132.68 555.88,-2132.68 549.94,-2133.51 538.06,-2133.51 532.12,-2132.68"/>
<text text-anchor="middle" x="544" y="-2112.64" font-family="Helvetica,sans-Serif" font-size="14.00">Known XPath OK?</text>
</g>
<!-- IsPageContentValid&#45;&gt;KnownConfigExtractionOK -->
<g id="edge6" class="edge">
<title>IsPageContentValid&#45;&gt;KnownConfigExtractionOK</title>
<path fill="none" stroke="black" d="M634.18,-2204.02C594.76,-2195.01 556.95,-2182.74 545,-2167.34 539.91,-2160.78 538.48,-2152.15 538.69,-2143.9"/>
<polygon fill="black" stroke="black" points="542.19,-2144.15 539.68,-2133.85 535.22,-2143.46 542.19,-2144.15"/>
<text text-anchor="middle" x="637" y="-2156.14" font-family="Helvetica,sans-Serif" font-size="14.00">Yes (2xx, Content Present)</text>
</g>
<!-- SolveCaptchaKnown -->
<g id="node10" class="node">
<title>SolveCaptchaKnown</title>
<path fill="moccasin" stroke="black" d="M717,-1920.34C717,-1920.34 613,-1920.34 613,-1920.34 607,-1920.34 601,-1914.34 601,-1908.34 601,-1908.34 601,-1894.34 601,-1894.34 601,-1888.34 607,-1882.34 613,-1882.34 613,-1882.34 717,-1882.34 717,-1882.34 723,-1882.34 729,-1888.34 729,-1894.34 729,-1894.34 729,-1908.34 729,-1908.34 729,-1914.34 723,-1920.34 717,-1920.34"/>
<text text-anchor="middle" x="665" y="-1905.14" font-family="Helvetica,sans-Serif" font-size="14.00">Solve CAPTCHA</text>
<text text-anchor="middle" x="665" y="-1890.14" font-family="Helvetica,sans-Serif" font-size="14.00">(CaptchaSolver)</text>
</g>
<!-- CaptchaOnKnownConfigPage&#45;&gt;SolveCaptchaKnown -->
<g id="edge10" class="edge">
<title>CaptchaOnKnownConfigPage&#45;&gt;SolveCaptchaKnown</title>
<path fill="none" stroke="black" d="M673.28,-1975.06C670.3,-1968.07 667.65,-1960.6 666,-1953.34 664.35,-1946.06 663.68,-1938.05 663.52,-1930.57"/>
<polygon fill="black" stroke="black" points="667.02,-1930.52 663.59,-1920.49 660.02,-1930.47 667.02,-1930.52"/>
<text text-anchor="middle" x="741.5" y="-1942.14" font-family="Helvetica,sans-Serif" font-size="14.00">Yes (CAPTCHA Found)</text>
</g>
<!-- KnownConfigFailedOperational -->
<g id="node15" class="node">
<title>KnownConfigFailedOperational</title>
<path fill="lightblue" stroke="black" d="M840,-1661.84C840,-1661.84 610,-1661.84 610,-1661.84 604,-1661.84 598,-1655.84 598,-1649.84 598,-1649.84 598,-1635.84 598,-1635.84 598,-1629.84 604,-1623.84 610,-1623.84 610,-1623.84 840,-1623.84 840,-1623.84 846,-1623.84 852,-1629.84 852,-1635.84 852,-1635.84 852,-1649.84 852,-1649.84 852,-1655.84 846,-1661.84 840,-1661.84"/>
<text text-anchor="middle" x="725" y="-1646.64" font-family="Helvetica,sans-Serif" font-size="14.00">Known Config Failed Operationally</text>
<text text-anchor="middle" x="725" y="-1631.64" font-family="Helvetica,sans-Serif" font-size="14.00">(Increment Failure Count)</text>
</g>
<!-- CaptchaOnKnownConfigPage&#45;&gt;KnownConfigFailedOperational -->
<g id="edge11" class="edge">
<title>CaptchaOnKnownConfigPage&#45;&gt;KnownConfigFailedOperational</title>
<path fill="none" stroke="black" d="M767.11,-1987.89C785.58,-1979.76 803.8,-1968.59 817,-1953.34 832.38,-1935.57 831,-1925.85 831,-1902.34 831,-1902.34 831,-1902.34 831,-1738.34 831,-1706.44 803.93,-1682.65 777.15,-1666.92"/>
<polygon fill="black" stroke="black" points="778.55,-1663.7 768.11,-1661.89 775.15,-1669.81 778.55,-1663.7"/>
<text text-anchor="middle" x="925.5" y="-1823.64" font-family="Helvetica,sans-Serif" font-size="14.00">No (No CAPTCHA, True Fail)</text>
</g>
<!-- CaptchaSolvedKnown -->
<g id="node11" class="node">
<title>CaptchaSolvedKnown</title>
<path fill="lightgoldenrodyellow" stroke="black" d="M653.12,-1843.68C653.12,-1843.68 548.02,-1829 548.02,-1829 542.08,-1828.17 542.08,-1826.51 548.02,-1825.68 548.02,-1825.68 653.12,-1811 653.12,-1811 659.06,-1810.17 670.94,-1810.17 676.88,-1811 676.88,-1811 781.98,-1825.68 781.98,-1825.68 787.92,-1826.51 787.92,-1828.17 781.98,-1829 781.98,-1829 676.88,-1843.68 676.88,-1843.68 670.94,-1844.51 659.06,-1844.51 653.12,-1843.68"/>
<text text-anchor="middle" x="665" y="-1823.64" font-family="Helvetica,sans-Serif" font-size="14.00">CAPTCHA Solved?</text>
</g>
<!-- SolveCaptchaKnown&#45;&gt;CaptchaSolvedKnown -->
<g id="edge12" class="edge">
<title>SolveCaptchaKnown&#45;&gt;CaptchaSolvedKnown</title>
<path fill="none" stroke="black" d="M665,-1882.17C665,-1874.23 665,-1864.75 665,-1855.97"/>
<polygon fill="black" stroke="black" points="668.5,-1855.76 665,-1845.76 661.5,-1855.76 668.5,-1855.76"/>
</g>
<!-- ReExtractAfterKnownSolve -->
<g id="node12" class="node">
<title>ReExtractAfterKnownSolve</title>
<path fill="moccasin" stroke="black" d="M638.5,-1758.34C638.5,-1758.34 479.5,-1758.34 479.5,-1758.34 473.5,-1758.34 467.5,-1752.34 467.5,-1746.34 467.5,-1746.34 467.5,-1732.34 467.5,-1732.34 467.5,-1726.34 473.5,-1720.34 479.5,-1720.34 479.5,-1720.34 638.5,-1720.34 638.5,-1720.34 644.5,-1720.34 650.5,-1726.34 650.5,-1732.34 650.5,-1732.34 650.5,-1746.34 650.5,-1746.34 650.5,-1752.34 644.5,-1758.34 638.5,-1758.34"/>
<text text-anchor="middle" x="559" y="-1743.14" font-family="Helvetica,sans-Serif" font-size="14.00">Re&#45;Fetch &amp; Re&#45;Try XPath</text>
<text text-anchor="middle" x="559" y="-1728.14" font-family="Helvetica,sans-Serif" font-size="14.00">(Known Config)</text>
</g>
<!-- CaptchaSolvedKnown&#45;&gt;ReExtractAfterKnownSolve -->
<g id="edge13" class="edge">
<title>CaptchaSolvedKnown&#45;&gt;ReExtractAfterKnownSolve</title>
<path fill="none" stroke="black" d="M626.94,-1814.55C613.53,-1809.05 599.06,-1801.44 588,-1791.34 580.9,-1784.85 575.09,-1776.21 570.58,-1767.88"/>
<polygon fill="black" stroke="black" points="573.63,-1766.16 566.06,-1758.75 567.36,-1769.27 573.63,-1766.16"/>
<text text-anchor="middle" x="630.5" y="-1780.14" font-family="Helvetica,sans-Serif" font-size="14.00">Yes (Solved)</text>
</g>
<!-- CaptchaSolvedKnown&#45;&gt;KnownConfigFailedOperational -->
<g id="edge14" class="edge">
<title>CaptchaSolvedKnown&#45;&gt;KnownConfigFailedOperational</title>
<path fill="none" stroke="black" d="M670.43,-1809.82C680.73,-1778.49 703.21,-1710.13 715.87,-1671.62"/>
<polygon fill="black" stroke="black" points="719.21,-1672.66 719.01,-1662.07 712.56,-1670.47 719.21,-1672.66"/>
<text text-anchor="middle" x="757" y="-1735.64" font-family="Helvetica,sans-Serif" font-size="14.00">No (Solve Failed)</text>
</g>
<!-- UpdateSiteConfigWithCaptcha -->
<g id="node14" class="node">
<title>UpdateSiteConfigWithCaptcha</title>
<path fill="palegreen" stroke="black" d="M544,-1669.34C544,-1669.34 310,-1669.34 310,-1669.34 304,-1669.34 298,-1663.34 298,-1657.34 298,-1657.34 298,-1628.34 298,-1628.34 298,-1622.34 304,-1616.34 310,-1616.34 310,-1616.34 544,-1616.34 544,-1616.34 550,-1616.34 556,-1622.34 556,-1628.34 556,-1628.34 556,-1657.34 556,-1657.34 556,-1663.34 550,-1669.34 544,-1669.34"/>
<text text-anchor="middle" x="427" y="-1654.14" font-family="Helvetica,sans-Serif" font-size="14.00">Update Site Config</text>
<text text-anchor="middle" x="427" y="-1639.14" font-family="Helvetica,sans-Serif" font-size="14.00">(Mark needs_captcha_solver=true,</text>
<text text-anchor="middle" x="427" y="-1624.14" font-family="Helvetica,sans-Serif" font-size="14.00">method=puppeteer_captcha)</text>
</g>
<!-- ReExtractAfterKnownSolve&#45;&gt;UpdateSiteConfigWithCaptcha -->
<g id="edge15" class="edge">
<title>ReExtractAfterKnownSolve&#45;&gt;UpdateSiteConfigWithCaptcha</title>
<path fill="none" stroke="black" d="M467.21,-1722.81C446.86,-1717.46 429.41,-1710.66 423,-1702.34 418.02,-1695.87 416.55,-1687.72 416.89,-1679.57"/>
<polygon fill="black" stroke="black" points="420.39,-1679.73 418.14,-1669.38 413.44,-1678.88 420.39,-1679.73"/>
<text text-anchor="middle" x="484" y="-1691.14" font-family="Helvetica,sans-Serif" font-size="14.00">XPath Now Works</text>
</g>
<!-- ReExtractAfterKnownSolve&#45;&gt;KnownConfigFailedOperational -->
<g id="edge17" class="edge">
<title>ReExtractAfterKnownSolve&#45;&gt;KnownConfigFailedOperational</title>
<path fill="none" stroke="black" d="M557.67,-1720.22C557.88,-1709.41 560.02,-1696.12 568,-1687.34 575.65,-1678.92 584.77,-1672.07 594.71,-1666.51"/>
<polygon fill="black" stroke="black" points="596.33,-1669.62 603.64,-1661.95 593.15,-1663.38 596.33,-1669.62"/>
<text text-anchor="middle" x="620.5" y="-1691.14" font-family="Helvetica,sans-Serif" font-size="14.00">XPath Still Fails</text>
</g>
<!-- KnownConfigExtractionOK&#45;&gt;CaptchaOnKnownConfigPage -->
<g id="edge9" class="edge">
<title>KnownConfigExtractionOK&#45;&gt;CaptchaOnKnownConfigPage</title>
<path fill="none" stroke="black" d="M562.92,-2100.92C576.26,-2090.82 594.6,-2077.09 611,-2065.34 620.74,-2058.36 631.24,-2051.02 641.33,-2044.05"/>
<polygon fill="black" stroke="black" points="643.43,-2046.85 649.68,-2038.3 639.46,-2041.09 643.43,-2046.85"/>
<text text-anchor="middle" x="670" y="-2069.14" font-family="Helvetica,sans-Serif" font-size="14.00">No (XPath Failed)</text>
</g>
<!-- URL_PROCESSING_SUCCESSFUL -->
<g id="node34" class="node">
<title>URL_PROCESSING_SUCCESSFUL</title>
<ellipse fill="lightgreen" stroke="black" cx="275" cy="-1535.52" rx="142.67" ry="26.74"/>
<text text-anchor="middle" x="275" y="-1539.32" font-family="Helvetica,sans-Serif" font-size="14.00">URL Processing Successful</text>
<text text-anchor="middle" x="275" y="-1524.32" font-family="Helvetica,sans-Serif" font-size="14.00">(Return Data)</text>
</g>
<!-- KnownConfigExtractionOK&#45;&gt;URL_PROCESSING_SUCCESSFUL -->
<g id="edge8" class="edge">
<title>KnownConfigExtractionOK&#45;&gt;URL_PROCESSING_SUCCESSFUL</title>
<path fill="none" stroke="black" d="M489.54,-2105.9C409.63,-2090.49 270,-2056.89 270,-2010.34 270,-2010.34 270,-2010.34 270,-1641.84 270,-1618.77 271.21,-1592.89 272.44,-1572.55"/>
<polygon fill="black" stroke="black" points="275.94,-1572.67 273.08,-1562.47 268.96,-1572.23 275.94,-1572.67"/>
<text text-anchor="middle" x="332.5" y="-1823.64" font-family="Helvetica,sans-Serif" font-size="14.00">Yes (XPath Works)</text>
</g>
<!-- UpdateSiteConfigWithCaptcha&#45;&gt;URL_PROCESSING_SUCCESSFUL -->
<g id="edge16" class="edge">
<title>UpdateSiteConfigWithCaptcha&#45;&gt;URL_PROCESSING_SUCCESSFUL</title>
<path fill="none" stroke="black" d="M389.82,-1616.08C368.62,-1601.39 341.91,-1582.88 319.59,-1567.42"/>
<polygon fill="black" stroke="black" points="321.49,-1564.47 311.27,-1561.65 317.5,-1570.22 321.49,-1564.47"/>
</g>
<!-- KnownConfigFailedOperational&#45;&gt;StartDiscovery -->
<g id="edge18" class="edge">
<title>KnownConfigFailedOperational&#45;&gt;StartDiscovery</title>
<path fill="none" stroke="black" d="M735.45,-1623.49C743.46,-1609.44 754.75,-1589.61 764.54,-1572.44"/>
<polygon fill="black" stroke="black" points="767.58,-1574.16 769.49,-1563.74 761.5,-1570.7 767.58,-1574.16"/>
<text text-anchor="middle" x="829.5" y="-1587.14" font-family="Helvetica,sans-Serif" font-size="14.00">Trigger Re&#45;Discovery</text>
</g>
<!-- ProbeCurl -->
<g id="node17" class="node">
<title>ProbeCurl</title>
<path fill="lightblue" stroke="black" d="M837.5,-1468.69C837.5,-1468.69 732.5,-1468.69 732.5,-1468.69 726.5,-1468.69 720.5,-1462.69 720.5,-1456.69 720.5,-1456.69 720.5,-1442.69 720.5,-1442.69 720.5,-1436.69 726.5,-1430.69 732.5,-1430.69 732.5,-1430.69 837.5,-1430.69 837.5,-1430.69 843.5,-1430.69 849.5,-1436.69 849.5,-1442.69 849.5,-1442.69 849.5,-1456.69 849.5,-1456.69 849.5,-1462.69 843.5,-1468.69 837.5,-1468.69"/>
<text text-anchor="middle" x="785" y="-1453.49" font-family="Helvetica,sans-Serif" font-size="14.00">Probe with cURL</text>
<text text-anchor="middle" x="785" y="-1438.49" font-family="Helvetica,sans-Serif" font-size="14.00">(CurlHandler)</text>
</g>
<!-- StartDiscovery&#45;&gt;ProbeCurl -->
<g id="edge19" class="edge">
<title>StartDiscovery&#45;&gt;ProbeCurl</title>
<path fill="none" stroke="black" d="M785,-1508.45C785,-1499.1 785,-1488.5 785,-1478.96"/>
<polygon fill="black" stroke="black" points="788.5,-1478.77 785,-1468.77 781.5,-1478.77 788.5,-1478.77"/>
</g>
<!-- CurlResponseOK -->
<g id="node18" class="node">
<title>CurlResponseOK</title>
<path fill="lightgoldenrodyellow" stroke="black" d="M773.35,-1390.84C773.35,-1390.84 641.65,-1358.55 641.65,-1358.55 635.83,-1357.12 635.83,-1354.26 641.65,-1352.84 641.65,-1352.84 773.35,-1320.55 773.35,-1320.55 779.17,-1319.12 790.83,-1319.12 796.65,-1320.55 796.65,-1320.55 928.35,-1352.84 928.35,-1352.84 934.17,-1354.26 934.17,-1357.12 928.35,-1358.55 928.35,-1358.55 796.65,-1390.84 796.65,-1390.84 790.83,-1392.26 779.17,-1392.26 773.35,-1390.84"/>
<text text-anchor="middle" x="785" y="-1359.49" font-family="Helvetica,sans-Serif" font-size="14.00">cURL Response OK?</text>
<text text-anchor="middle" x="785" y="-1344.49" font-family="Helvetica,sans-Serif" font-size="14.00">(2xx, Has HTML)</text>
</g>
<!-- ProbeCurl&#45;&gt;CurlResponseOK -->
<g id="edge20" class="edge">
<title>ProbeCurl&#45;&gt;CurlResponseOK</title>
<path fill="none" stroke="black" d="M785,-1430.52C785,-1422.83 785,-1413.47 785,-1404.04"/>
<polygon fill="black" stroke="black" points="788.5,-1403.86 785,-1393.86 781.5,-1403.86 788.5,-1403.86"/>
</g>
<!-- CaptchaInCurlHTML -->
<g id="node19" class="node">
<title>CaptchaInCurlHTML</title>
<path fill="lightgoldenrodyellow" stroke="black" d="M575.06,-1235.46C575.06,-1235.46 424.99,-1219.93 424.99,-1219.93 419.03,-1219.31 419.03,-1218.08 424.99,-1217.46 424.99,-1217.46 575.06,-1201.93 575.06,-1201.93 581.03,-1201.31 592.97,-1201.31 598.94,-1201.93 598.94,-1201.93 749.01,-1217.46 749.01,-1217.46 754.97,-1218.08 754.97,-1219.31 749.01,-1219.93 749.01,-1219.93 598.94,-1235.46 598.94,-1235.46 592.97,-1236.08 581.03,-1236.08 575.06,-1235.46"/>
<text text-anchor="middle" x="587" y="-1214.99" font-family="Helvetica,sans-Serif" font-size="14.00">CAPTCHA in cURL HTML?</text>
</g>
<!-- CurlResponseOK&#45;&gt;CaptchaInCurlHTML -->
<g id="edge21" class="edge">
<title>CurlResponseOK&#45;&gt;CaptchaInCurlHTML</title>
<path fill="none" stroke="black" d="M734,-1330.16C717.01,-1321.28 698.28,-1310.72 682,-1299.69 656.22,-1282.24 629.3,-1259.03 610.73,-1242.1"/>
<polygon fill="black" stroke="black" points="613.04,-1239.47 603.31,-1235.27 608.3,-1244.62 613.04,-1239.47"/>
<text text-anchor="middle" x="732.5" y="-1273.49" font-family="Helvetica,sans-Serif" font-size="14.00">Yes (HTML OK)</text>
</g>
<!-- ProbePuppeteer -->
<g id="node20" class="node">
<title>ProbePuppeteer</title>
<path fill="moccasin" stroke="black" d="M670.5,-1134.69C670.5,-1134.69 503.5,-1134.69 503.5,-1134.69 497.5,-1134.69 491.5,-1128.69 491.5,-1122.69 491.5,-1122.69 491.5,-1108.69 491.5,-1108.69 491.5,-1102.69 497.5,-1096.69 503.5,-1096.69 503.5,-1096.69 670.5,-1096.69 670.5,-1096.69 676.5,-1096.69 682.5,-1102.69 682.5,-1108.69 682.5,-1108.69 682.5,-1122.69 682.5,-1122.69 682.5,-1128.69 676.5,-1134.69 670.5,-1134.69"/>
<text text-anchor="middle" x="587" y="-1119.49" font-family="Helvetica,sans-Serif" font-size="14.00">Probe with Puppeteer</text>
<text text-anchor="middle" x="587" y="-1104.49" font-family="Helvetica,sans-Serif" font-size="14.00">(Launch/Navigate, Initial)</text>
</g>
<!-- CurlResponseOK&#45;&gt;ProbePuppeteer -->
<g id="edge22" class="edge">
<title>CurlResponseOK&#45;&gt;ProbePuppeteer</title>
<path fill="none" stroke="black" d="M791.18,-1318.93C796.88,-1272.61 798.4,-1193.02 751,-1152.69 741.11,-1144.28 718.23,-1137.36 692.6,-1131.91"/>
<polygon fill="black" stroke="black" points="693.17,-1128.46 682.67,-1129.9 691.78,-1135.32 693.17,-1128.46"/>
<text text-anchor="middle" x="903.5" y="-1222.49" font-family="Helvetica,sans-Serif" font-size="14.00">No (cURL Failed/No HTML)</text>
<text text-anchor="middle" x="903.5" y="-1207.49" font-family="Helvetica,sans-Serif" font-size="14.00">[Primary Path if cURL Unusable]</text>
</g>
<!-- CaptchaInCurlHTML&#45;&gt;ProbePuppeteer -->
<g id="edge23" class="edge">
<title>CaptchaInCurlHTML&#45;&gt;ProbePuppeteer</title>
<path fill="none" stroke="black" d="M587,-1200.56C587,-1185.39 587,-1162.94 587,-1145.09"/>
<polygon fill="black" stroke="black" points="590.5,-1144.94 587,-1134.94 583.5,-1144.94 590.5,-1144.94"/>
<text text-anchor="middle" x="667" y="-1171.49" font-family="Helvetica,sans-Serif" font-size="14.00">Yes (CAPTCHA in cURL)</text>
<text text-anchor="middle" x="667" y="-1156.49" font-family="Helvetica,sans-Serif" font-size="14.00">[Must Try Puppeteer]</text>
</g>
<!-- SelectHTMLForAnalysis -->
<g id="node25" class="node">
<title>SelectHTMLForAnalysis</title>
<path fill="lightgoldenrodyellow" stroke="black" d="M333,-538.19C333,-538.19 757,-538.19 757,-538.19 763,-538.19 769,-544.19 769,-550.19 769,-550.19 769,-618.19 769,-618.19 769,-624.19 763,-630.19 757,-630.19 757,-630.19 333,-630.19 333,-630.19 327,-630.19 321,-624.19 321,-618.19 321,-618.19 321,-550.19 321,-550.19 321,-544.19 327,-538.19 333,-538.19"/>
<text text-anchor="middle" x="545" y="-614.99" font-family="Helvetica,sans-Serif" font-size="14.00">Select HTML for Analysis</text>
<polyline fill="none" stroke="black" points="321,-607.19 769,-607.19 "/>
<text text-anchor="middle" x="545" y="-591.99" font-family="Helvetica,sans-Serif" font-size="14.00">Compare DOMs (if both clean cURL &amp; Puppeteer)</text>
<polyline fill="none" stroke="black" points="321,-584.19 769,-584.19 "/>
<text text-anchor="middle" x="545" y="-568.99" font-family="Helvetica,sans-Serif" font-size="14.00">Perform Full Puppeteer Interactions (if using Puppeteer HTML)</text>
<polyline fill="none" stroke="black" points="321,-561.19 769,-561.19 "/>
<text text-anchor="middle" x="545" y="-545.99" font-family="Helvetica,sans-Serif" font-size="14.00">Re&#45;Check/Solve CAPTCHA after Interactions</text>
</g>
<!-- CaptchaInCurlHTML&#45;&gt;SelectHTMLForAnalysis -->
<g id="edge24" class="edge">
<title>CaptchaInCurlHTML&#45;&gt;SelectHTMLForAnalysis</title>
<path fill="none" stroke="black" d="M664.39,-1208.7C700.29,-1203.06 737.9,-1194.57 751,-1182.69 773.8,-1162.02 772,-1147.48 772,-1116.69 772,-1116.69 772,-1116.69 772,-713.69 772,-679.38 752.11,-654.12 724.11,-635.56"/>
<polygon fill="black" stroke="black" points="725.94,-632.58 715.6,-630.26 722.24,-638.52 725.94,-632.58"/>
<text text-anchor="middle" x="876.5" y="-921.49" font-family="Helvetica,sans-Serif" font-size="14.00">No (cURL HTML is Clean)</text>
<text text-anchor="middle" x="876.5" y="-906.49" font-family="Helvetica,sans-Serif" font-size="14.00">[htmlForAnalysis = curlHtml,</text>
<text text-anchor="middle" x="876.5" y="-891.49" font-family="Helvetica,sans-Serif" font-size="14.00">tentativeMethodIsCurl = true]</text>
</g>
<!-- PuppeteerResponseOK -->
<g id="node21" class="node">
<title>PuppeteerResponseOK</title>
<path fill="lightgoldenrodyellow" stroke="black" d="M414.23,-1057.35C414.23,-1057.35 246.77,-1024.03 246.77,-1024.03 240.88,-1022.86 240.88,-1020.52 246.77,-1019.35 246.77,-1019.35 414.23,-986.03 414.23,-986.03 420.12,-984.86 431.88,-984.86 437.77,-986.03 437.77,-986.03 605.23,-1019.35 605.23,-1019.35 611.12,-1020.52 611.12,-1022.86 605.23,-1024.03 605.23,-1024.03 437.77,-1057.35 437.77,-1057.35 431.88,-1058.52 420.12,-1058.52 414.23,-1057.35"/>
<text text-anchor="middle" x="426" y="-1025.49" font-family="Helvetica,sans-Serif" font-size="14.00">Puppeteer Response OK?</text>
<text text-anchor="middle" x="426" y="-1010.49" font-family="Helvetica,sans-Serif" font-size="14.00">(2xx, Has HTML)</text>
</g>
<!-- ProbePuppeteer&#45;&gt;PuppeteerResponseOK -->
<g id="edge25" class="edge">
<title>ProbePuppeteer&#45;&gt;PuppeteerResponseOK</title>
<path fill="none" stroke="black" d="M555.19,-1096.52C534.62,-1084.76 507.26,-1069.13 483.02,-1055.27"/>
<polygon fill="black" stroke="black" points="484.66,-1052.18 474.24,-1050.26 481.19,-1058.26 484.66,-1052.18"/>
</g>
<!-- CaptchaInPuppeteerHTML -->
<g id="node22" class="node">
<title>CaptchaInPuppeteerHTML</title>
<path fill="lightgoldenrodyellow" stroke="black" d="M414.05,-927.15C414.05,-927.15 231.33,-911.23 231.33,-911.23 225.36,-910.71 225.36,-909.67 231.33,-909.15 231.33,-909.15 414.05,-893.23 414.05,-893.23 420.02,-892.71 431.98,-892.71 437.95,-893.23 437.95,-893.23 620.67,-909.15 620.67,-909.15 626.64,-909.67 626.64,-910.71 620.67,-911.23 620.67,-911.23 437.95,-927.15 437.95,-927.15 431.98,-927.67 420.02,-927.67 414.05,-927.15"/>
<text text-anchor="middle" x="426" y="-906.49" font-family="Helvetica,sans-Serif" font-size="14.00">CAPTCHA in Puppeteer HTML?</text>
</g>
<!-- PuppeteerResponseOK&#45;&gt;CaptchaInPuppeteerHTML -->
<g id="edge26" class="edge">
<title>PuppeteerResponseOK&#45;&gt;CaptchaInPuppeteerHTML</title>
<path fill="none" stroke="black" d="M426,-983.62C426,-968.84 426,-952.12 426,-938.48"/>
<polygon fill="black" stroke="black" points="429.5,-938.3 426,-928.3 422.5,-938.3 429.5,-938.3"/>
<text text-anchor="middle" x="476.5" y="-954.49" font-family="Helvetica,sans-Serif" font-size="14.00">Yes (HTML OK)</text>
</g>
<!-- NoUsableHTML -->
<g id="node26" class="node">
<title>NoUsableHTML</title>
<path fill="lightpink" stroke="black" d="M118,-603.19C118,-603.19 12,-603.19 12,-603.19 6,-603.19 0,-597.19 0,-591.19 0,-591.19 0,-577.19 0,-577.19 0,-571.19 6,-565.19 12,-565.19 12,-565.19 118,-565.19 118,-565.19 124,-565.19 130,-571.19 130,-577.19 130,-577.19 130,-591.19 130,-591.19 130,-597.19 124,-603.19 118,-603.19"/>
<text text-anchor="middle" x="65" y="-587.99" font-family="Helvetica,sans-Serif" font-size="14.00">No Usable HTML</text>
<text text-anchor="middle" x="65" y="-572.99" font-family="Helvetica,sans-Serif" font-size="14.00">for Discovery</text>
</g>
<!-- PuppeteerResponseOK&#45;&gt;NoUsableHTML -->
<g id="edge27" class="edge">
<title>PuppeteerResponseOK&#45;&gt;NoUsableHTML</title>
<path fill="none" stroke="black" d="M296.44,-1009.43C181.61,-995.75 32,-967.19 32,-911.19 32,-911.19 32,-911.19 32,-713.69 32,-678.11 44.02,-638.68 53.55,-613"/>
<polygon fill="black" stroke="black" points="56.86,-614.13 57.18,-603.54 50.33,-611.62 56.86,-614.13"/>
<text text-anchor="middle" x="112.5" y="-821.49" font-family="Helvetica,sans-Serif" font-size="14.00">No (Puppeteer Failed)</text>
<text text-anchor="middle" x="112.5" y="-806.49" font-family="Helvetica,sans-Serif" font-size="14.00">[If cURL also unusable]</text>
</g>
<!-- SolveCaptchaDiscovery -->
<g id="node23" class="node">
<title>SolveCaptchaDiscovery</title>
<path fill="moccasin" stroke="black" d="M422.5,-836.69C422.5,-836.69 239.5,-836.69 239.5,-836.69 233.5,-836.69 227.5,-830.69 227.5,-824.69 227.5,-824.69 227.5,-810.69 227.5,-810.69 227.5,-804.69 233.5,-798.69 239.5,-798.69 239.5,-798.69 422.5,-798.69 422.5,-798.69 428.5,-798.69 434.5,-804.69 434.5,-810.69 434.5,-810.69 434.5,-824.69 434.5,-824.69 434.5,-830.69 428.5,-836.69 422.5,-836.69"/>
<text text-anchor="middle" x="331" y="-821.49" font-family="Helvetica,sans-Serif" font-size="14.00">Solve CAPTCHA (Discovery)</text>
<text text-anchor="middle" x="331" y="-806.49" font-family="Helvetica,sans-Serif" font-size="14.00">(CaptchaSolver)</text>
</g>
<!-- CaptchaInPuppeteerHTML&#45;&gt;SolveCaptchaDiscovery -->
<g id="edge28" class="edge">
<title>CaptchaInPuppeteerHTML&#45;&gt;SolveCaptchaDiscovery</title>
<path fill="none" stroke="black" d="M381.2,-895.95C367.54,-889.92 353.61,-881.43 344,-869.69 338.71,-863.23 335.54,-854.88 333.65,-846.81"/>
<polygon fill="black" stroke="black" points="337.09,-846.14 331.88,-836.91 330.2,-847.37 337.09,-846.14"/>
<text text-anchor="middle" x="419.5" y="-858.49" font-family="Helvetica,sans-Serif" font-size="14.00">Yes (CAPTCHA Found)</text>
</g>
<!-- CaptchaInPuppeteerHTML&#45;&gt;SelectHTMLForAnalysis -->
<g id="edge29" class="edge">
<title>CaptchaInPuppeteerHTML&#45;&gt;SelectHTMLForAnalysis</title>
<path fill="none" stroke="black" d="M463.83,-895.49C475.62,-889.37 487.5,-880.95 495,-869.69 524.58,-825.34 499.17,-802.89 510,-750.69 516.77,-718.06 523.85,-711.25 531,-678.69 533.7,-666.42 536.03,-653.13 537.98,-640.53"/>
<polygon fill="black" stroke="black" points="541.45,-641.01 539.46,-630.6 534.52,-639.97 541.45,-641.01"/>
<text text-anchor="middle" x="634" y="-769.49" font-family="Helvetica,sans-Serif" font-size="14.00">No (Puppeteer HTML is Clean)</text>
<text text-anchor="middle" x="634" y="-754.49" font-family="Helvetica,sans-Serif" font-size="14.00">[htmlForAnalysis = puppeteerHtml]</text>
</g>
<!-- CaptchaSolvedDiscovery -->
<g id="node24" class="node">
<title>CaptchaSolvedDiscovery</title>
<path fill="lightgoldenrodyellow" stroke="black" d="M237.12,-731.03C237.12,-731.03 132.02,-716.35 132.02,-716.35 126.08,-715.52 126.08,-713.86 132.02,-713.03 132.02,-713.03 237.12,-698.35 237.12,-698.35 243.06,-697.52 254.94,-697.52 260.88,-698.35 260.88,-698.35 365.98,-713.03 365.98,-713.03 371.92,-713.86 371.92,-715.52 365.98,-716.35 365.98,-716.35 260.88,-731.03 260.88,-731.03 254.94,-731.86 243.06,-731.86 237.12,-731.03"/>
<text text-anchor="middle" x="249" y="-710.99" font-family="Helvetica,sans-Serif" font-size="14.00">CAPTCHA Solved?</text>
</g>
<!-- SolveCaptchaDiscovery&#45;&gt;CaptchaSolvedDiscovery -->
<g id="edge30" class="edge">
<title>SolveCaptchaDiscovery&#45;&gt;CaptchaSolvedDiscovery</title>
<path fill="none" stroke="black" d="M316.34,-798.64C302.84,-782.01 282.73,-757.23 268,-739.09"/>
<polygon fill="black" stroke="black" points="270.67,-736.83 261.65,-731.28 265.24,-741.25 270.67,-736.83"/>
</g>
<!-- CaptchaSolvedDiscovery&#45;&gt;SelectHTMLForAnalysis -->
<g id="edge31" class="edge">
<title>CaptchaSolvedDiscovery&#45;&gt;SelectHTMLForAnalysis</title>
<path fill="none" stroke="black" d="M244.1,-697.36C240.85,-682.92 238.98,-662.13 250,-648.69 260.26,-636.19 282.75,-626.02 310.96,-617.79"/>
<polygon fill="black" stroke="black" points="312.04,-621.12 320.73,-615.07 310.16,-614.37 312.04,-621.12"/>
<text text-anchor="middle" x="390.5" y="-667.49" font-family="Helvetica,sans-Serif" font-size="14.00">Yes (Solved)</text>
<text text-anchor="middle" x="390.5" y="-652.49" font-family="Helvetica,sans-Serif" font-size="14.00">[htmlForAnalysis = new puppeteerHtml]</text>
</g>
<!-- CaptchaSolvedDiscovery&#45;&gt;NoUsableHTML -->
<g id="edge32" class="edge">
<title>CaptchaSolvedDiscovery&#45;&gt;NoUsableHTML</title>
<path fill="none" stroke="black" d="M166.96,-708.05C124.67,-703.26 79.23,-694.51 66,-678.69 51.11,-660.87 52.55,-633.77 56.72,-613.33"/>
<polygon fill="black" stroke="black" points="60.19,-613.86 59.07,-603.33 53.37,-612.26 60.19,-613.86"/>
<text text-anchor="middle" x="146.5" y="-667.49" font-family="Helvetica,sans-Serif" font-size="14.00">No (Solve Failed)</text>
<text text-anchor="middle" x="146.5" y="-652.49" font-family="Helvetica,sans-Serif" font-size="14.00">[If cURL also unusable]</text>
</g>
<!-- LLMXPathDiscovery -->
<g id="node27" class="node">
<title>LLMXPathDiscovery</title>
<path fill="lightblue" stroke="black" d="M742.5,-486.69C742.5,-486.69 347.5,-486.69 347.5,-486.69 341.5,-486.69 335.5,-480.69 335.5,-474.69 335.5,-474.69 335.5,-445.69 335.5,-445.69 335.5,-439.69 341.5,-433.69 347.5,-433.69 347.5,-433.69 742.5,-433.69 742.5,-433.69 748.5,-433.69 754.5,-439.69 754.5,-445.69 754.5,-445.69 754.5,-474.69 754.5,-474.69 754.5,-480.69 748.5,-486.69 742.5,-486.69"/>
<text text-anchor="middle" x="545" y="-471.49" font-family="Helvetica,sans-Serif" font-size="14.00">LLM XPath Discovery Loop</text>
<text text-anchor="middle" x="545" y="-456.49" font-family="Helvetica,sans-Serif" font-size="14.00">(LLMInterface, HtmlAnalyserFixed, ContentScoringEngine)</text>
<text text-anchor="middle" x="545" y="-441.49" font-family="Helvetica,sans-Serif" font-size="14.00">Up to MAX_LLM_RETRIES</text>
</g>
<!-- SelectHTMLForAnalysis&#45;&gt;LLMXPathDiscovery -->
<g id="edge34" class="edge">
<title>SelectHTMLForAnalysis&#45;&gt;LLMXPathDiscovery</title>
<path fill="none" stroke="black" d="M545,-538.11C545,-524.64 545,-510.06 545,-497.25"/>
<polygon fill="black" stroke="black" points="548.5,-496.97 545,-486.97 541.5,-496.97 548.5,-496.97"/>
<text text-anchor="middle" x="622" y="-508.49" font-family="Helvetica,sans-Serif" font-size="14.00">Usable HTML Selected</text>
</g>
<!-- NoUsableHTML&#45;&gt;EndError -->
<g id="edge33" class="edge">
<title>NoUsableHTML&#45;&gt;EndError</title>
<path fill="none" stroke="black" d="M84.16,-565.13C144.13,-508.61 328.83,-334.54 406.27,-261.56"/>
<polygon fill="black" stroke="black" points="408.98,-263.81 413.86,-254.41 404.18,-258.72 408.98,-263.81"/>
</g>
<!-- XPathFoundLLM -->
<g id="node28" class="node">
<title>XPathFoundLLM</title>
<path fill="lightgoldenrodyellow" stroke="black" d="M533.3,-394.03C533.3,-394.03 389.7,-361.36 389.7,-361.36 383.85,-360.02 383.85,-357.36 389.7,-356.03 389.7,-356.03 533.3,-323.36 533.3,-323.36 539.15,-322.02 550.85,-322.02 556.7,-323.36 556.7,-323.36 700.3,-356.03 700.3,-356.03 706.15,-357.36 706.15,-360.02 700.3,-361.36 700.3,-361.36 556.7,-394.03 556.7,-394.03 550.85,-395.36 539.15,-395.36 533.3,-394.03"/>
<text text-anchor="middle" x="545" y="-362.49" font-family="Helvetica,sans-Serif" font-size="14.00">XPath Found by LLM</text>
<text text-anchor="middle" x="545" y="-347.49" font-family="Helvetica,sans-Serif" font-size="14.00">&amp; Score &gt; Threshold?</text>
</g>
<!-- LLMXPathDiscovery&#45;&gt;XPathFoundLLM -->
<g id="edge35" class="edge">
<title>LLMXPathDiscovery&#45;&gt;XPathFoundLLM</title>
<path fill="none" stroke="black" d="M545,-433.57C545,-425.45 545,-416.21 545,-407.07"/>
<polygon fill="black" stroke="black" points="548.5,-406.86 545,-396.86 541.5,-406.86 548.5,-406.86"/>
</g>
<!-- XPathFoundLLM&#45;&gt;EndError -->
<g id="edge37" class="edge">
<title>XPathFoundLLM&#45;&gt;EndError</title>
<path fill="none" stroke="black" d="M519.56,-326.17C504.02,-306.91 484.16,-282.3 468.29,-262.64"/>
<polygon fill="black" stroke="black" points="470.99,-260.41 461.98,-254.82 465.54,-264.8 470.99,-260.41"/>
<text text-anchor="middle" x="571" y="-291.49" font-family="Helvetica,sans-Serif" font-size="14.00">No (LLM Failed)</text>
<text text-anchor="middle" x="571" y="-276.49" font-family="Helvetica,sans-Serif" font-size="14.00">[Operational Failure]</text>
</g>
<!-- DetermineMethodToStore -->
<g id="node29" class="node">
<title>DetermineMethodToStore</title>
<path fill="lightblue" stroke="black" d="M940.5,-246.82C940.5,-246.82 633.5,-246.82 633.5,-246.82 627.5,-246.82 621.5,-240.82 621.5,-234.82 621.5,-234.82 621.5,-220.82 621.5,-220.82 621.5,-214.82 627.5,-208.82 633.5,-208.82 633.5,-208.82 940.5,-208.82 940.5,-208.82 946.5,-208.82 952.5,-214.82 952.5,-220.82 952.5,-220.82 952.5,-234.82 952.5,-234.82 952.5,-240.82 946.5,-246.82 940.5,-246.82"/>
<text text-anchor="middle" x="787" y="-231.62" font-family="Helvetica,sans-Serif" font-size="14.00">Determine Method to Store</text>
<text text-anchor="middle" x="787" y="-216.62" font-family="Helvetica,sans-Serif" font-size="14.00">(curl, puppeteer_stealth, puppeteer_captcha)</text>
</g>
<!-- XPathFoundLLM&#45;&gt;DetermineMethodToStore -->
<g id="edge36" class="edge">
<title>XPathFoundLLM&#45;&gt;DetermineMethodToStore</title>
<path fill="none" stroke="black" d="M593.68,-331.77C637.79,-308.28 702.14,-274.01 744.29,-251.57"/>
<polygon fill="black" stroke="black" points="746.01,-254.62 753.19,-246.83 742.72,-248.44 746.01,-254.62"/>
<text text-anchor="middle" x="761" y="-283.99" font-family="Helvetica,sans-Serif" font-size="14.00">Yes (XPath Good)</text>
</g>
<!-- StoreNewConfig -->
<g id="node30" class="node">
<title>StoreNewConfig</title>
<path fill="lightblue" stroke="black" d="M1027,-163.95C1027,-163.95 883,-163.95 883,-163.95 877,-163.95 871,-157.95 871,-151.95 871,-151.95 871,-137.95 871,-137.95 871,-131.95 877,-125.95 883,-125.95 883,-125.95 1027,-125.95 1027,-125.95 1033,-125.95 1039,-131.95 1039,-137.95 1039,-137.95 1039,-151.95 1039,-151.95 1039,-157.95 1033,-163.95 1027,-163.95"/>
<text text-anchor="middle" x="955" y="-148.75" font-family="Helvetica,sans-Serif" font-size="14.00">Store New Config</text>
<text text-anchor="middle" x="955" y="-133.75" font-family="Helvetica,sans-Serif" font-size="14.00">(KnownSitesManager)</text>
</g>
<!-- DetermineMethodToStore&#45;&gt;StoreNewConfig -->
<g id="edge38" class="edge">
<title>DetermineMethodToStore&#45;&gt;StoreNewConfig</title>
<path fill="none" stroke="black" d="M824.7,-208.67C849.45,-196.76 882,-181.09 908.38,-168.4"/>
<polygon fill="black" stroke="black" points="909.93,-171.53 917.42,-164.04 906.89,-165.23 909.93,-171.53"/>
</g>
<!-- StoreNewConfig&#45;&gt;AttemptKnownConfig -->
<g id="edge39" class="edge">
<title>StoreNewConfig&#45;&gt;AttemptKnownConfig</title>
<path fill="none" stroke="black" d="M998.23,-164.01C1022.52,-177.34 1048,-198.15 1048,-226.82 1048,-2224.34 1048,-2224.34 1048,-2224.34 1048,-2251.67 1034.13,-2274 1014.23,-2291.99"/>
<polygon fill="black" stroke="black" points="1011.7,-2289.55 1006.32,-2298.67 1016.22,-2294.89 1011.7,-2289.55"/>
<text text-anchor="middle" x="1218.5" y="-1288.49" font-family="Helvetica,sans-Serif" font-size="14.00">Scrape with New Config</text>
<text text-anchor="middle" x="1218.5" y="-1273.49" font-family="Helvetica,sans-Serif" font-size="14.00">(Effectively re&#45;enters &#39;AttemptKnownConfig&#39; logic</text>
<text text-anchor="middle" x="1218.5" y="-1258.49" font-family="Helvetica,sans-Serif" font-size="14.00">with the new config)</text>
</g>
<!-- SaveHtmlSuccess -->
<g id="node31" class="node">
<title>SaveHtmlSuccess</title>
<polygon fill="lightgrey" stroke="black" points="351,-1374.69 193,-1374.69 193,-1336.69 357,-1336.69 357,-1368.69 351,-1374.69"/>
<polyline fill="none" stroke="black" points="351,-1374.69 351,-1368.69 "/>
<polyline fill="none" stroke="black" points="357,-1368.69 351,-1368.69 "/>
<text text-anchor="middle" x="275" y="-1359.49" font-family="Helvetica,sans-Serif" font-size="14.00">Save HTML (Success)</text>
<text text-anchor="middle" x="275" y="-1344.49" font-family="Helvetica,sans-Serif" font-size="14.00">(if DEBUG)</text>
</g>
<!-- SaveHtmlSuccess&#45;&gt;EndSuccess -->
<g id="edge42" class="edge">
<title>SaveHtmlSuccess&#45;&gt;EndSuccess</title>
<path fill="none" stroke="black" d="M275,-1336.49C275,-1313.46 275,-1273.61 275,-1246.95"/>
<polygon fill="black" stroke="black" points="278.5,-1246.76 275,-1236.76 271.5,-1246.76 278.5,-1246.76"/>
</g>
<!-- SaveHtmlFailure&#45;&gt;EndCriticalError -->
<g id="edge44" class="edge">
<title>SaveHtmlFailure&#45;&gt;EndCriticalError</title>
<path fill="none" stroke="black" d="M441,-125.58C441,-114.37 441,-99.49 441,-85.21"/>
<polygon fill="black" stroke="black" points="444.5,-84.98 441,-74.98 437.5,-84.98 444.5,-84.98"/>
<text text-anchor="middle" x="504" y="-96.75" font-family="Helvetica,sans-Serif" font-size="14.00">Fail&#45;Fast Triggered</text>
</g>
<!-- UpdateSuccessStats -->
<g id="node33" class="node">
<title>UpdateSuccessStats</title>
<path fill="lightblue" stroke="black" d="M347,-1468.69C347,-1468.69 203,-1468.69 203,-1468.69 197,-1468.69 191,-1462.69 191,-1456.69 191,-1456.69 191,-1442.69 191,-1442.69 191,-1436.69 197,-1430.69 203,-1430.69 203,-1430.69 347,-1430.69 347,-1430.69 353,-1430.69 359,-1436.69 359,-1442.69 359,-1442.69 359,-1456.69 359,-1456.69 359,-1462.69 353,-1468.69 347,-1468.69"/>
<text text-anchor="middle" x="275" y="-1453.49" font-family="Helvetica,sans-Serif" font-size="14.00">Update Success Stats</text>
<text text-anchor="middle" x="275" y="-1438.49" font-family="Helvetica,sans-Serif" font-size="14.00">(KnownSitesManager)</text>
</g>
<!-- UpdateSuccessStats&#45;&gt;SaveHtmlSuccess -->
<g id="edge41" class="edge">
<title>UpdateSuccessStats&#45;&gt;SaveHtmlSuccess</title>
<path fill="none" stroke="black" d="M275,-1430.52C275,-1417.54 275,-1399.83 275,-1385"/>
<polygon fill="black" stroke="black" points="278.5,-1384.83 275,-1374.83 271.5,-1384.83 278.5,-1384.83"/>
</g>
<!-- URL_PROCESSING_SUCCESSFUL&#45;&gt;UpdateSuccessStats -->
<g id="edge40" class="edge">
<title>URL_PROCESSING_SUCCESSFUL&#45;&gt;UpdateSuccessStats</title>
<path fill="none" stroke="black" d="M275,-1508.45C275,-1499.1 275,-1488.5 275,-1478.96"/>
<polygon fill="black" stroke="black" points="278.5,-1478.77 275,-1468.77 271.5,-1478.77 278.5,-1478.77"/>
</g>
</g>
</svg>
